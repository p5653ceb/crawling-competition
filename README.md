## 2020 빅콘테스트 챔피언리그 (2020 big contest)
- 프로젝트명: NSshop+ 판매실적 예측을 통한 편성 최적화 방안 도출
- 팀명: FC성수 (김희주, 이태헌, 임상우, 최은비)

[결과보고서 확인하기](https://github.com/p5653ceb/crawling-competition/blob/main/%EB%8D%B0%EC%9D%B4%EB%B6%84%EC%84%9D%EB%B6%84%EC%95%BC_%EC%B1%94%ED%94%BC%EC%96%B8%EB%A6%AC%EA%B7%B8_%EA%B2%B0%EA%B3%BC%EB%B3%B4%EA%B3%A0%EC%84%9C(github%20upload).pdf)

### 프로젝트 개요
- 프로젝트 목적: T커머스의 내/외부 요인을 반영하여 최적 수익을 도출하는 편성 제안
- 프로젝트 진행 기간: 2020년 8월 3일 ~ 2020년 9월 28일 (약 2개월)
- 프로젝트 범위
  - 판매실적 예측: 2020년 6월 판매실적 예측
  - 편성 최적화 방안 제시: 최적 수익을 고려한 요일별/ 시간대별/ 카테고리별 편성 최적화 방안(모형)제시


### 분석 프로세스
--- 
- 데이터 전처리 및 EDA
  - 전처리: 결측치 제거, 시청률 데이터 merge
  - 변수 생성 및 탐색: 파생변수 생성, 외부변수 추가, 개별변수 특성 탐색, 변수 간 관계 탐색
  
- 데이터 모델링
  - 학습 알고리즘 선정 및 분석
    - 매출 예측 활용 알고리즘: LGBMRegressor, CatboostRegressor, DNN, 통계적 예측
    - 편성방안 도출: 헝가리안 알고리즘
    
- 예측 및 성능 개선
  - 1차 예측 및 개선
  - 최종 예측


### 주요 분석 내용 상세
---
- 내부변수 상세화 및 외부변수 추가
  - 내부변수 상세화
    - 방송일시 세분화: 방송 요일, 연휴, 방송 시간 sin함수 변환, 프라임 시간 생성
    - 판매상품 세분화: 상품군별 가격 구분, 상품 구성
  - 외부변수 추가 & 생성
    - 코로나 반영: 서비스업 생산지수, 마스크 검색량
    - 경제적 측면 반영: 생활물가 지수
    - 계절 특성 반영: 최고/최저기온, 강수 확률
    - 계절 특성 변수 생성: 전국단위 최고, 최저기온, 상대온도 변수 생성
    

### 학습 알고리즘 상세
---
- 매출 예측
  - 상품 편성의 반복 주기를 활용하여 2019년 6월 데이터를 기준으로 모델을 생성함
  - 학습 데이터와 예측 데이터의 비연속성으로 인해 시계열 모델 활용하지 않음
    - 활용 모델
      - 앙상블 계열: LGBM, Catboost
    - 1차 모델링
      - 데이터셋 분리 및 모델 선정 
      - 모델을 통한 1차 매출 예측
    - 2차 모델링
      - 통계 모델 생성
      - 통계적 접근 최적 가중치 설정
    - 3차 모델링
      - 기계 & 통계적 모델을 통한 19년 6월 매출 예측 
      - 기계 & 통계적 모델을 통한 20년 6월 매출 예측
  
  - 최종 결과
    - Catboost & 통계적 예측기를 함께 활용하여 매출 예측
    
- 편성 최적화
  - 1주를 147시간(방송 없는 시간 제외)으로 나누어 시간대별/ 카테고리별 매출 평균 계산
  - 시간대별 평균과 카테고리별 평균의 적정가중치를 실제값과 비교하여 시간대별로 도출
  - 전체 시간별 카테고리별 예측 매출 matrix를 활용하여 헝가리안 알고리즘으로 최대 매출이 되도록 편성 (주간, 일간)
  - 주간, 일간 중복 상품을 우선 배치
  - 중복되지 않을 경우, 예상매출이 높은 상품군을 매칭하도록 함
